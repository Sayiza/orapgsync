<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ora to Pg Sync Tool</title>
  <link rel="stylesheet" href="app.css">
</head>
<body>
<div class="header">
  <h1>Ora to Pg Sync Tool</h1>
</div>

<div class="progress-container">
  <div id="progress-bar" class="progress-bar-section">
    <div class="progress-label">Migration Progress</div>
    <div class="progress-indicator">
      <div class="progress-fill" style="width: 0%"></div>
    </div>
    <div class="progress-status">Ready to start</div>
  </div>
</div>

<div class="database-comparison-container">
  <table class="database-comparison-table">
    <thead>
      <tr>
        <th class="source-column">Oracle (Source)</th>
        <th class="target-column">PostgreSQL (Target)</th>
      </tr>
    </thead>
    <tbody>
      <tr class="connection-row">
        <td class="source-cell">
          <div class="connection-status" id="oracle-connection">
            <span class="status-indicator disconnected"></span>
            <span class="status-text">Connection: Not connected</span>
            <button class="test-connection-btn" onclick="testOracleConnection()">Test</button>
          </div>
        </td>
        <td class="target-cell">
          <div class="connection-status" id="postgres-connection">
            <span class="status-indicator disconnected"></span>
            <span class="status-text">Connection: Not connected</span>
            <button class="test-connection-btn" onclick="testPostgresConnection()">Test</button>
          </div>
        </td>
      </tr>
      <tr class="schemas-row">
        <td class="source-cell">
          <div class="component-info" id="oracle-schemas">
            <span class="count-badge">-</span>
            <span class="component-text">Schemas found</span>
            <button class="refresh-btn" onclick="loadOracleSchemas()" title="Refresh Oracle schemas">↻</button>
            <div class="schema-list" id="oracle-schema-list" style="display: none;">
              <div class="schema-list-header" onclick="toggleSchemaList('oracle')">
                <span class="toggle-indicator">▼</span> Schema Names
              </div>
              <div class="schema-items" id="oracle-schema-items">
                <!-- Schema names will be populated here -->
              </div>
            </div>
          </div>
        </td>
        <td class="target-cell">
          <div class="component-info" id="postgres-schemas">
            <span class="count-badge">-</span>
            <span class="component-text">Schemas available</span>
            <button class="refresh-btn" onclick="loadPostgresSchemas()" title="Refresh PostgreSQL schemas">↻</button>
            <div class="schema-list" id="postgres-schema-list" style="display: none;">
              <div class="schema-list-header" onclick="toggleSchemaList('postgres')">
                <span class="toggle-indicator">▼</span> Schema Names
              </div>
              <div class="schema-items" id="postgres-schema-items">
                <!-- Schema names will be populated here -->
              </div>
            </div>
          </div>
        </td>
      </tr>
      <tr class="objects-row">
        <td class="source-cell">
          <div class="component-info" id="oracle-objects">
            <span class="count-badge">-</span>
            <span class="component-text">Object data types discovered</span>
            <button class="refresh-btn" onclick="loadOracleObjectTypes()" title="Refresh Oracle object data types">↻</button>
            <div class="object-list" id="oracle-object-list" style="display: none;">
              <div class="object-list-header" onclick="toggleObjectList('oracle')">
                <span class="toggle-indicator">▼</span> Object Data Types by Schema
              </div>
              <div class="object-items" id="oracle-object-items">
                <!-- Object data types will be populated here grouped by schema -->
              </div>
            </div>
          </div>
        </td>
        <td class="target-cell">
          <div class="component-info" id="postgres-objects">
            <span class="count-badge">-</span>
            <span class="component-text">Data types created</span>
            <button class="refresh-btn" onclick="loadPostgresObjectTypes()" title="Refresh PostgreSQL object data types">↻</button>
            <div class="object-list" id="postgres-object-list" style="display: none;">
              <div class="object-list-header" onclick="toggleObjectList('postgres')">
                <span class="toggle-indicator">▼</span> Object Data Types by Schema
              </div>
              <div class="object-items" id="postgres-object-items">
                <!-- Object data types will be populated here grouped by schema -->
              </div>
            </div>
          </div>
        </td>
      </tr>
      <tr class="tables-row">
        <td class="source-cell">
          <div class="component-info" id="oracle-tables">
            <span class="count-badge">-</span>
            <span class="component-text">Tables found</span>
            <button class="refresh-btn" onclick="extractTableMetadata()" title="Extract Oracle table metadata">⚙</button>
            <div class="table-list" id="oracle-table-list" style="display: none;">
              <div class="table-list-header" onclick="toggleTableList('oracle')">
                <span class="toggle-indicator">▼</span> Tables by Schema
              </div>
              <div class="table-items" id="oracle-table-items">
                <!-- Table metadata will be populated here -->
              </div>
            </div>
          </div>
        </td>
        <td class="target-cell">
          <div class="component-info" id="postgres-tables">
            <span class="count-badge">-</span>
            <span class="component-text">Tables created</span>
          </div>
        </td>
      </tr>
      <tr class="data-row">
        <td class="source-cell">
          <div class="component-info" id="oracle-data">
            <span class="count-badge">-</span>
            <span class="component-text">Records available</span>
          </div>
        </td>
        <td class="target-cell">
          <div class="component-info" id="postgres-data">
            <span class="count-badge">-</span>
            <span class="component-text">Records migrated</span>
          </div>
        </td>
      </tr>
      <tr class="views-row">
        <td class="source-cell">
          <div class="component-info" id="oracle-views">
            <span class="count-badge">-</span>
            <span class="component-text">Views found</span>
          </div>
        </td>
        <td class="target-cell">
          <div class="component-info" id="postgres-views">
            <span class="count-badge">-</span>
            <span class="component-text">Views created</span>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>

<div class="configuration-container">
  <div class="config-section">
    <h2 class="config-title">Configuration Settings</h2>
    <form id="config-form" class="config-form">
      <div class="config-grid">

        <div class="config-group">
          <label class="config-label">
            <input type="checkbox" id="do-all-schemas" class="config-checkbox">
            Process All Schemas
          </label>
          <span class="config-help">Enable to process all schemas instead of specific ones</span>
        </div>

        <div class="config-group">
          <label class="config-label" for="do-only-test-schema">Test Schema Only</label>
          <input type="text" id="do-only-test-schema" class="config-input" value="USER_ROBERT">
          <span class="config-help">Specific schema to process when not processing all</span>
        </div>

        <div class="config-group">
          <label class="config-label" for="oracle-url">Oracle URL</label>
          <input type="text" id="oracle-url" class="config-input" value="jdbc:oracle:thin:@localhost:1521:sid">
          <span class="config-help">Oracle database connection URL</span>
        </div>

        <div class="config-group">
          <label class="config-label" for="oracle-user">Oracle Username</label>
          <input type="text" id="oracle-user" class="config-input" value="sys">
          <span class="config-help">Oracle database username</span>
        </div>

        <div class="config-group">
          <label class="config-label" for="oracle-password">Oracle Password</label>
          <input type="password" id="oracle-password" class="config-input" value="xxx">
          <span class="config-help">Oracle database password</span>
        </div>

        <div class="config-group">
          <label class="config-label" for="java-generated-package-name">Generated Package Name</label>
          <input type="text" id="java-generated-package-name" class="config-input" value="me.christianrobert.ora2pgsync.autogen">
          <span class="config-help">Java package name for generated code</span>
        </div>

        <div class="config-group">
          <label class="config-label" for="path-target-project-java">Java Source Path</label>
          <input type="text" id="path-target-project-java" class="config-input" value="/src/main/java">
          <span class="config-help">Target path for generated Java files</span>
        </div>

        <div class="config-group">
          <label class="config-label" for="path-target-project-resources">Resources Path</label>
          <input type="text" id="path-target-project-resources" class="config-input" value="/src/main/resources">
          <span class="config-help">Target path for generated resource files</span>
        </div>

        <div class="config-group">
          <label class="config-label" for="path-target-project-postgre">PostgreSQL DDL Path</label>
          <input type="text" id="path-target-project-postgre" class="config-input" value="/postgre/autoddl">
          <span class="config-help">Target path for PostgreSQL DDL files</span>
        </div>

        <div class="config-group">
          <label class="config-label" for="postgre-url">PostgreSQL URL</label>
          <input type="text" id="postgre-url" class="config-input" value="jdbc:postgresql://localhost:5432/postgres">
          <span class="config-help">PostgreSQL database connection URL</span>
        </div>

        <div class="config-group">
          <label class="config-label" for="postgre-username">PostgreSQL Username</label>
          <input type="text" id="postgre-username" class="config-input" value="postgres">
          <span class="config-help">PostgreSQL database username</span>
        </div>

        <div class="config-group">
          <label class="config-label" for="postgre-password">PostgreSQL Password</label>
          <input type="password" id="postgre-password" class="config-input" value="xxx">
          <span class="config-help">PostgreSQL database password</span>
        </div>

      </div>

      <div class="config-actions">
        <button type="button" id="save-config-btn" class="btn btn-primary" onclick="saveConfiguration()">
          Save Configuration
        </button>
        <button type="button" id="reset-config-btn" class="btn btn-secondary" onclick="resetConfiguration()">
          Reset to Defaults
        </button>
      </div>
    </form>
  </div>
</div>

<script src="app.js"></script>
</body>
</html>